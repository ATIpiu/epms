<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.epms.dao.clientDao.ClientDao">
    <select id="queryAllClients" resultType="com.epms.entity.Client">
        select cName, cId, cTel, cPhoneNumber, cQNumber, cEmail, cUsername, cPwd, cUnit from client
    </select>
    <insert id="insertIntoClient" parameterType="com.epms.entity.Client"
            useGeneratedKeys="true" keyProperty="sId" keyColumn="sId">
         insert into
		client(cName, cId, cTel, cPhoneNumber, cQNumber, cEmail, cUsername, cPwd, cUnit)
		values
		(#{cName},${cId},#{cTel},#{cPhoneNumber},#{cQNumber},#{cEmail},#{cUsername},#{cPwd},#{cUnit})
    </insert>
    <select id="queryClientByUserName" resultType="com.epms.entity.Client">
        select  cName, cId, cTel, cPhoneNumber, cQNumber, cEmail, cUsername, cPwd, cUnit
        from client where cUsername=#{cUserName}
    </select>
    <select id="queryClientById" resultType="com.epms.entity.Client">
        select cName, cId, cTel, cPhoneNumber, cQNumber, cEmail, cUsername, cPwd, cUnit
        from client where cId=${cId}
    </select>
    <update id="updateClient" parameterType="com.epms.entity.Client">
        update client
        <set>
            <if test="cName!=null">cName=#{cName},</if>
            <if test="cTel!=null">cTel=#{cTel},</if>
            <if test="cPhoneNumber!=null">cPhoneNumber=#{cPhoneNumber},</if>
            <if test="cQNumber!=null">cQNumber=#{cQNumber},</if>
            <if test="cEmail!=null">cEmail=#{cEmail},</if>
            <if test="cUsername!=null">cUsername=#{cUsername},</if>
            <if test="cPwd!=null">cPwd=#{cPwd},</if>
            <if test="cUnit!=null">cUnit=#{cUnit}</if>
        </set>
        where cId=#{cId}
    </update>

</mapper>